"use strict";angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){if(n.data.success){$("#downloadBackup"+o);$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1}n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=e.data.map(function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("addAccountCtrl",["$scope","$http",function(o,e){o.userData={username:"",password:"",email:"",is_activated:!0,RoleIdRole:"1"},o.roles=[],e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)}),o.addUserAccount=function(){e({method:"POST",url:"/api/admin/addAccount",data:{user:o.userData}}).then(function(o){console.log(o)}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("allPollsCtrl",["$scope","$http",function(o,e){o.allPolls=null,e.get("/api/admin/getAllPolls").then(function(e){o.allPolls=e.data}).catch(function(o){console.log(o)}),o.enableDisablePoll=function(n,a){e({method:"POST",url:"/api/admin/enableDisablePoll",data:{pollID:n}}).then(function(e){o.allPolls[a].is_active=!o.allPolls[a].is_active,o.allPolls[a].is_active||(o.allPolls[a].closed_at=new Date)}).catch(function(o){console.log(o)})},o.deletePoll=function(n){e({method:"POST",url:"/api/admin/deletePoll",data:{id_poll:n}}).then(function(e){if(console.log(e.data),e.data.success){for(var a=o.allPolls.length,t=-1,l=0;l<a;l++)if(o.allPolls[l].id_poll===n){t=l;break}-1!==t&&o.allPolls.splice(t,1)}}).catch(function(o){console.log(o)})}}]),function(o){angular.module("realTimePolls").controller("backupsCtrl",["$scope","$http",function(e,n){e.backups=null,e.password="",e.operationInProgress=!1,n.get("/api/admin/getBackups").then(function(o){e.backups=o.data}).catch(function(o){console.log(o)}),e.deleteBackup=function(o,a){if(!e.password)return alert("Please enter password!");n({method:"POST",url:"/api/admin/deleteBackup",data:{backupName:o,password:e.password}}).then(function(o){o.data.success&&(e.backups.splice(a,1),e.password="")}).catch(function(o){console.log(o)})},e.uploadBackup=function(){if(!e.password)return alert("Please enter password!");var a=new FormData,t=o.getElementById("upload");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadBackup",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o),e.password=""}).catch(function(o){console.log(o)})},e.downloadBackup=function(o){if(!e.password)return alert("Please enter password!");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/downloadBackup",data:{backupName:o,password:e.password}}).then(function(n){n.data.success&&($("#downloadBackup"+o),$("#downloadForm"+o).attr("action","/api/admin/downloadBackup"),$("#downloadForm"+o).attr("method","POST"),$("#downloadForm"+o).submit(),e.password="",e.operationInProgress=!1),n.data.error&&n.data.message&&(e.operationInProgress=!1,console.log(n.data.message))}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.confirmApplyBackup=function(o){if(!e.password)return alert("Please enter password!");e.applyBackup(o)},e.applyBackup=function(o){e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password=""}).catch(function(o){console.log(o),e.operationInProgress=!1})}}])}(document),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=Utilities.map(e.data,function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=e.data.map(function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=e.data.map(function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]),angular.module("realTimePolls").controller("indexCtrl",["$scope","$http",function(o,e){o.password="",o.mainSettings=null,o.operationInProgress=!1,o.canChangeSettings=null,e.get("/api/admin/getMainSettings").then(function(e){for(var n=[],a=e.data.settings.length,t=0;t<a;t++){var l=e.data.settings[t].split("="),s=l[0],c=l[1];n.push({settingsName:s,settingsValue:c})}c=isNaN(+c)?c:+c,o.mainSettings=n,o.canChangeSettings=e.data.canChangeSettings}).catch(function(o){console.log(o)}),o.changeSetting=function(n,a){o.operationInProgress=!0,e({method:"POST",url:"/api/admin/changeSetting",data:{password:o.password,settingsName:n,settingsValue:a}}).then(function(e){o.operationInProgress=!1,e.data.success&&(o.password=""),e.data.error&&console.log(e.data.message)}).catch(function(e){o.operationInProgress=!1,console.log(e)})}}]),angular.module("realTimePolls").controller("logsCtrl",["$scope","$http",function(o,e){o.logs=null,o.logContent="",e.get("/api/admin/getLogs").then(function(e){o.logs=e.data}).catch(function(o){console.log(o)}),o.confirmClearAllLogs=function(){o.clearAllLogs()},o.clearAllLogs=function(){e.post("/api/admin/clearAllLogs").then(function(o){console.log(o)}).catch(function(o){console.log(o)})},o.hideContentArea=function(){o.logContent=""},o.clearLog=function(n){e({method:"POST",url:"/api/admin/clearLog",data:{logFile:n}}).then(function(e){e.data.success&&(o.logContent="Cleared")}).catch(function(o){console.log(o)})},o.getLogFile=function(n){e({method:"POST",url:"/api/admin/getLogFile",data:{log:n}}).then(function(e){o.logContent=e.data}).catch(function(o){console.log(o)})}}]),angular.module("realTimePolls").controller("reportsCtrl",["$scope","$http",function(o,e){o.reports=null,e.get("/api/admin/getAllReports").then(function(o){console.log(o)}).catch(function(o){console.log(o)})}]),angular.module("realTimePolls").controller("rolesCtrl",["$scope","$http",function(o,e){o.roles=null,e({method:"GET",url:"/api/admin/getRoles"}).then(function(e){o.roles=e.data}).catch(function(o){console.log(o)})}]),function(o){angular.module("realTimePolls").controller("settingsBackupCtrl",["$scope","$http",function(e,n){e.settingsBackups=null,e.password="",e.operationInProgress=!1,e.uploadSettings=function(){if(!e.password)return alert("Enter password");var a=new FormData,t=o.getElementById("fileInput");a.append("file",t.files[0]),a.append("password",e.password),n({method:"POST",url:"/api/admin/uploadSettings",headers:{"Content-Type":void 0},data:a}).then(function(o){console.log(o.data),o.data.success&&e.settingsBackups.unshift({dir:o.data.backupName,birthtime:new Date})}).catch(function(o){console.log(o)})},e.applyBackup=function(o){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/applyMainSettingsBackup",data:{password:e.password,backupName:o}}).then(function(o){e.operationInProgress=!1,console.log(o.data)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},e.deleteBackup=function(o,a){if(!e.password)return alert("Enter password");e.operationInProgress=!0,n({method:"POST",url:"/api/admin/deleteMainSettingsBackup",data:{backupName:o,password:e.password}}).then(function(o){e.operationInProgress=!1,e.password="",o.data.success&&e.settingsBackups.splice(a,1),o.data.error&&alert(o.data.message)}).catch(function(o){e.operationInProgress=!1,console.log(o)})},n.get("/api/admin/getMainSettingsBackups").then(function(o){e.settingsBackups=o.data.backups}).catch(function(o){console.log(o)})}])}(document),angular.module("realTimePolls").controller("usersCtrl",["$scope","$http",function(o,e){o.users=null,e({method:"GET",url:"/api/admin/getUsers"}).then(function(e){var n=e.data.map(function(o){var e=o.user;return e.canBeModified=o.canBeModified,e.Role.id_role=String(e.Role.id_role),e});o.users=n}).catch(function(o){console.log(o)}),o.confirmUpdateUser=function(e){o.updateUser(e)},o.updateUser=function(o){e({method:"POST",url:"/api/admin/updateUser",data:{id_user:o.id_user,RoleIdRole:o.Role.id_role}}).then(function(o){console.log(o.data)}).catch(function(o){console.log(o)})},o.confirmDeleteUser=function(e,n){o.deleteUser(e,n)},o.deleteUser=function(n,a){e({method:"POST",url:"/api/admin/deleteUser",data:{userID:n}}).then(function(e){console.log(e.data),e.data.success&&o.users.splice(a,1)}).catch(function(o){})}}]);